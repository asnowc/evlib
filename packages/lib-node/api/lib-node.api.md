## API Report File for "@eavid/lib-node"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

/// <reference types="node" />

import type * as dgram from 'node:dgram';
import { Duplex } from 'node:stream';
import { Listenable } from '#evlib';
import * as net_2 from 'node:net';
import * as node_ps from 'node:child_process';
import { Readable } from 'node:stream';
import type { Readable as Readable_2 } from 'stream';
import { ReadableStream as ReadableStream_2 } from 'node:stream/web';
import { ReadableStream as ReadableStream_3 } from 'stream/web';
import { ReadableStreamDefaultReader as ReadableStreamDefaultReader_2 } from 'node:stream/web';
import type { Writable } from 'node:stream';
import { WritableStream as WritableStream_2 } from 'node:stream/web';
import { WritableStream as WritableStream_3 } from 'stream/web';

// @public (undocumented)
function connect(options: TcpConnectOpts): Promise<Connection>;

// @public (undocumented)
class Connection extends SocketStream {
    // (undocumented)
    $timeout: Listenable<void>;
    constructor(socket: net_2.Socket);
    // (undocumented)
    enableNagle(enable: boolean): void;
    // (undocumented)
    readonly localAddress: string;
    // (undocumented)
    readonly localFamily: TcpFamily;
    // (undocumented)
    readonly localPort: number;
    // (undocumented)
    readonly remoteAddress: string;
    // (undocumented)
    readonly remoteFamily: TcpFamily;
    // (undocumented)
    readonly remotePort: number;
    // (undocumented)
    resetAndDestroy(): void;
    // (undocumented)
    setKeepAlive(enable?: boolean, delay?: number): void;
    // (undocumented)
    get timeout(): number;
    set timeout(time: number);
}

// @alpha (undocumented)
function connectPipe(path: string): Promise<SocketStream>;

// @public (undocumented)
function createScannerFromReadable(readable: Readable): StreamScanner;

// @public (undocumented)
class DuplexStream<T> {
    // (undocumented)
    $closed: Listenable<Error | null>;
    // (undocumented)
    get [Symbol.asyncDispose](): () => Promise<void>;
    constructor(duplex: Duplex);
    // (undocumented)
    get closed(): boolean;
    // (undocumented)
    dispose(reason?: any): void;
    // (undocumented)
    protected duplex: Duplex;
    // (undocumented)
    get errored(): Error | null;
    // (undocumented)
    readonly readable: ScannableStream<T>;
    // (undocumented)
    get readableClosed(): boolean;
    // (undocumented)
    readonly writable: WritableStream_2<T>;
    // (undocumented)
    get writableClosed(): boolean;
}

// @alpha (undocumented)
function fork(file: string, options?: SpawnOptions): Promise<SubProcess>;

// Warning: (ae-forgotten-export) The symbol "ServerOpts" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
interface IpcServerOpts extends ServerOpts {
    readable?: boolean;
    // (undocumented)
    readableAll?: boolean;
    writable?: boolean;
    // (undocumented)
    writableAll?: boolean;
}

declare namespace net {
    export {
        connect,
        connectPipe,
        SocketStream,
        TcpFamily,
        Connection,
        TcpConnectOpts,
        TcpServerOpts,
        IpcServerOpts,
        Server
    }
}
export { net }

declare namespace process_2 {
    export {
        SubProcess as ChildProcess,
        spawn,
        fork,
        SpawnOptions
    }
}
export { process_2 as process }

// @alpha (undocumented)
function readableRead(stream: Readable_2, len: number, abortSignal?: AbortSignal): Promise<Buffer>;

// @alpha (undocumented)
function readableReadAll(stream: Readable_2, abortSignal?: AbortSignal): Promise<Buffer>;

// @public (undocumented)
function readableToReadableStream<T = Uint8Array>(readable: Readable): ReadableStream_3<T>;

// @public (undocumented)
function readableToScannableStream<T>(readable: Readable): ScannableStream<T>;

// @public (undocumented)
function readAll<T>(reader: ReadableStreamDefaultReader_2<T>): Promise<T[]>;

// @public (undocumented)
interface ScannableStream<T> extends ReadableStream_2<T> {
    // (undocumented)
    getScanner(): StreamScanner;
}

// @public (undocumented)
class Server<T extends SocketStream> {
    // (undocumented)
    $close: Listenable<void>;
    // (undocumented)
    $error: Listenable<Error>;
    // (undocumented)
    get [Symbol.asyncDispose](): () => Promise<void>;
    constructor(port: number, options?: TcpServerOpts);
    constructor(path: string, options?: IpcServerOpts);
    constructor(port_path: string | number, options?: TcpServerOpts | IpcServerOpts);
    // (undocumented)
    close(): Promise<void>;
    // (undocumented)
    disposeQueue: boolean;
    // @alpha (undocumented)
    get fd(): number | Object;
    // (undocumented)
    static listen(port: number, tcpOpts?: TcpServerOpts): Promise<Server<Connection>>;
    // (undocumented)
    static listen(path: string, ipcOpts?: IpcServerOpts): Promise<Server<SocketStream>>;
    // (undocumented)
    listen(): Promise<void>;
    // (undocumented)
    get listening(): boolean;
    // Warning: (ae-forgotten-export) The symbol "ConnectionHandler" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    get onConnection(): ConnectionHandler<T> | null;
    set onConnection(handler: ConnectionHandler<T> | null);
    // (undocumented)
    ref(): void;
    // (undocumented)
    unref(): void;
}

// @public (undocumented)
class SocketStream extends DuplexStream<Buffer> {
    constructor(socket: net_2.Socket);
    // (undocumented)
    get bytesRead(): number;
    // (undocumented)
    get bytesWritten(): number;
    // (undocumented)
    ref(): void;
    // (undocumented)
    protected socket: net_2.Socket;
    // (undocumented)
    unref(): void;
}

// @public (undocumented)
function spawn(file: string, options?: SpawnOptions): Promise<SubProcess>;

// @public (undocumented)
interface SpawnOptions {
    // (undocumented)
    args?: string[];
    // @beta (undocumented)
    createIPC?: boolean;
    // (undocumented)
    cwd?: string;
    // (undocumented)
    detached?: boolean;
    // (undocumented)
    env?: Record<string, string | number | boolean>;
    // (undocumented)
    gid?: number;
    // Warning: (ae-forgotten-export) The symbol "Handle" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    sharedResource?: (Handle | null)[];
    // Warning: (ae-forgotten-export) The symbol "StdioFlag" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "Stdio" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    stdio?: StdioFlag | [Stdio, Stdio, Stdio];
    // (undocumented)
    uid?: number;
    // (undocumented)
    windowsRawArguments?: boolean;
}

declare namespace stream {
    export {
        readAll,
        DuplexStream,
        StreamScan,
        StreamScanner,
        ScannableStream,
        createScannerFromReadable,
        readableRead,
        readableReadAll,
        readableToReadableStream,
        writableToWritableStream,
        readableToScannableStream
    }
}
export { stream }

// @public (undocumented)
interface StreamScan<T = Buffer> {
    // (undocumented)
    (len: number): Promise<T>;
    // (undocumented)
    (len: number, safe: boolean): Promise<T | null>;
}

// @public (undocumented)
type StreamScanner<T = Buffer> = {
    read: StreamScan<T>;
    cancel(reason?: any): null | T;
};

// @public (undocumented)
class SubProcess {
    // @alpha (undocumented)
    $close: Listenable<{
        code: null | number;
        signal: NodeJS.Signals | null;
        kill?: true | undefined;
    }>;
    // (undocumented)
    $disconnect: Listenable<void>;
    // (undocumented)
    $message: Listenable<unknown>;
    constructor(nodeCps: NodeRaw.ChildProcess);
    // (undocumented)
    get closed(): boolean;
    // Warning: (ae-forgotten-export) The symbol "ClosedState" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    closedState: ClosedState | null;
    // (undocumented)
    get connected(): boolean;
    // (undocumented)
    disconnect(): void;
    // (undocumented)
    kill(signal?: NodeJS.Signals | number): boolean;
    // Warning: (ae-forgotten-export) The symbol "NodeRaw" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    protected nodeCps: NodeRaw.ChildProcess;
    // (undocumented)
    readonly pid: number;
    // (undocumented)
    ref(): void;
    // Warning: (ae-forgotten-export) The symbol "HandleObj" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    send(msg: any, handle?: HandleObj): Promise<unknown>;
    // (undocumented)
    readonly spawnargs: readonly string[];
    // (undocumented)
    readonly spawnFile: string;
    // (undocumented)
    readonly stdio: [WritableStream_2<Buffer> | null, ReadableStream_2<Buffer> | null, ReadableStream_2<Buffer> | null];
    // (undocumented)
    unref(): void;
}

// @public (undocumented)
interface TcpConnectOpts {
    // (undocumented)
    family?: 4 | 6 | 0;
    // (undocumented)
    host?: string;
    // (undocumented)
    localAddress?: string;
    // (undocumented)
    localPort?: number;
    // (undocumented)
    port: number;
    // (undocumented)
    signal?: AbortSignal;
}

// @public (undocumented)
type TcpFamily = "IPv4" | "IPv6";

// @public (undocumented)
interface TcpServerOpts extends ServerOpts {
    // (undocumented)
    host?: string;
    // (undocumented)
    ipv6Only?: boolean;
}

// @public (undocumented)
function writableToWritableStream<T = Uint8Array>(writable: Writable): WritableStream_3<T>;

// (No @packageDocumentation comment for this package)

```
