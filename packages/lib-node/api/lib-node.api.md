## API Report File for "@eavid/lib-node"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

/// <reference types="node" />

import type * as dgram from 'node:dgram';
import { Duplex } from 'node:stream';
import { Listenable } from '#evlib';
import * as net_2 from 'node:net';
import * as node_ps from 'node:child_process';
import { Readable } from 'node:stream';
import type { Readable as Readable_2 } from 'stream';
import { ReadableStream as ReadableStream_2 } from 'node:stream/web';
import { ReadableStreamDefaultReader as ReadableStreamDefaultReader_2 } from 'node:stream/web';
import { Writable } from 'node:stream';
import { WritableStream as WritableStream_2 } from 'node:stream/web';

// @beta (undocumented)
function bridgingDuplex<A extends Duplex, B extends Duplex>(a: A, b: B, options?: BridgingOptions): Promise<{
    a: A;
    b: B;
}>;

// @public (undocumented)
class BridgingError extends Error {
    constructor(side: Duplex, cause: Error);
    // (undocumented)
    side: Duplex;
}

// @public (undocumented)
interface BridgingOptions {
    // (undocumented)
    preventDispose?: boolean;
}

// @alpha (undocumented)
function connect(config: TcpConnectConfig, options?: ConnectOptions): Promise<Connection>;

// @public (undocumented)
class Connection extends SocketStream {
    // (undocumented)
    $timeout: Listenable<void>;
    constructor(socket: net_2.Socket);
    // (undocumented)
    enableNagle(enable: boolean): void;
    // (undocumented)
    readonly localAddress: string;
    // (undocumented)
    readonly localFamily: TcpFamily;
    // (undocumented)
    readonly localPort: number;
    // (undocumented)
    readonly remoteAddress: string;
    // (undocumented)
    readonly remoteFamily: TcpFamily;
    // (undocumented)
    readonly remotePort: number;
    // (undocumented)
    resetAndDestroy(): void;
    // (undocumented)
    setKeepAlive(enable?: boolean, delay?: number): void;
    // (undocumented)
    get timeout(): number;
    set timeout(time: number);
}

// @public (undocumented)
interface ConnectOptions {
    // (undocumented)
    signal?: AbortSignal;
}

// @alpha (undocumented)
function connectPipe(config: PipeConfig, options?: ConnectOptions): Promise<SocketStream>;

// Warning: (ae-incompatible-release-tags) The symbol "connectSocket" is marked as @public, but its signature references "PipeConfig" which is marked as @alpha
// Warning: (ae-incompatible-release-tags) The symbol "connectSocket" is marked as @public, but its signature references "PipeConfig" which is marked as @alpha
//
// @public (undocumented)
function connectSocket(config: TcpConnectConfig | PipeConfig, options?: ConnectOptions): Promise<net_2.Socket>;

// @public (undocumented)
type CreateIpcServerOpts = Omit<IpcServerOpts, "path">;

// @public (undocumented)
function createScannerFromReadable<T extends Uint8Array = Buffer>(readable: Readable): StreamScanner<T>;

// @public (undocumented)
type CreateTcpServerOpts = Omit<TcpServerOpts, "port">;

// @beta @deprecated (undocumented)
class DuplexStream<T extends Uint8Array> {
    // (undocumented)
    $closed: Listenable<Error | null>;
    // (undocumented)
    get [Symbol.asyncDispose](): () => Promise<void>;
    constructor(duplex: Duplex);
    // (undocumented)
    get closed(): boolean;
    // (undocumented)
    dispose(reason?: any): void;
    // (undocumented)
    protected duplex: Duplex;
    // (undocumented)
    get errored(): Error | null;
    // (undocumented)
    get readable(): boolean;
    // (undocumented)
    get writable(): boolean;
}

// @alpha (undocumented)
function fork(file: string, options?: SpawnOptions): Promise<SubProcess>;

// Warning: (ae-forgotten-export) The symbol "ServerOpts" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
interface IpcServerOpts extends ServerOpts {
    // (undocumented)
    path?: string;
    // (undocumented)
    readableAll?: boolean;
    // (undocumented)
    type: "IPC";
    // (undocumented)
    writableAll?: boolean;
}

declare namespace net {
    export {
        connect,
        connectSocket,
        connectPipe,
        SocketStream,
        TcpFamily,
        Connection,
        TcpConnectConfig,
        ConnectOptions,
        PipeConfig,
        TcpServerOpts,
        IpcServerOpts,
        ServerListenOpts,
        CreateTcpServerOpts,
        CreateIpcServerOpts,
        Server
    }
}
export { net }

// @alpha (undocumented)
interface PipeConfig {
    // (undocumented)
    fd?: number;
    // (undocumented)
    path: string;
    // (undocumented)
    readable?: boolean;
    // (undocumented)
    writable?: boolean;
}

// @beta (undocumented)
interface PipeOptions {
    // (undocumented)
    preventReadableDispose?: boolean;
    // (undocumented)
    preventWritableDispose?: boolean;
    // (undocumented)
    preventWritableEnd?: boolean;
}

// @public (undocumented)
class PipeSourceError extends Error {
    constructor(cause: Error);
    // (undocumented)
    cause: Error;
}

// @public (undocumented)
class PipeTargetError extends Error {
    constructor(cause: Error);
    // (undocumented)
    cause: Error;
}

// Warning: (ae-forgotten-export) The symbol "WithPromise" needs to be exported by the entry point index.d.ts
//
// @beta (undocumented)
function pipeTo<T extends Readable, R extends Writable>(source: T, target: R, options?: PipeOptions): WithPromise<{
    abort(reason?: Error): void;
}, void>;

declare namespace process_2 {
    export {
        SubProcess as ChildProcess,
        spawn,
        fork,
        SpawnOptions
    }
}
export { process_2 as process }

// @alpha (undocumented)
function readableRead(stream: Readable_2, len: number, abortSignal?: AbortSignal): Promise<Buffer>;

// @alpha (undocumented)
function readableReadAll(stream: Readable_2, abortSignal?: AbortSignal): Promise<Buffer>;

// @public (undocumented)
function readableToReadableStream<T = Uint8Array>(readable: Readable): ReadableStream_2<T>;

// @public (undocumented)
function readAll<T>(reader: ReadableStreamDefaultReader_2<T>): Promise<T[]>;

// @public (undocumented)
interface ScannableStream<T extends Uint8Array = Uint8Array> extends ReadableStream_2<T> {
    // (undocumented)
    getScanner(): StreamScanner<T>;
}

// @public (undocumented)
class Server {
    // (undocumented)
    $close: Listenable<void>;
    // (undocumented)
    $error: Listenable<Error>;
    // (undocumented)
    [Symbol.asyncDispose](): Promise<void>;
    constructor(onConn: (conn: net_2.Socket) => void, options?: TcpServerOpts | undefined);
    constructor(onConn: (conn: net_2.Socket) => void, options?: IpcServerOpts | undefined);
    constructor(onConn: (conn: net_2.Socket) => void, options?: TcpServerOpts | IpcServerOpts | undefined);
    // (undocumented)
    close(): Promise<void>;
    // (undocumented)
    disposeQueue: boolean;
    // @alpha (undocumented)
    get fd(): number | Object;
    // (undocumented)
    get keepCount(): number;
    // (undocumented)
    static listen(onConn: (conn: Connection) => void, options?: TcpServerOpts): Promise<Server>;
    // (undocumented)
    static listen(onConn: (conn: SocketStream) => void, options?: IpcServerOpts): Promise<Server>;
    // (undocumented)
    listen(options?: ServerListenOpts): Promise<void>;
    // (undocumented)
    get listening(): boolean;
    // (undocumented)
    ref(): void;
    // (undocumented)
    unref(): void;
}

// @public (undocumented)
interface ServerListenOpts {
    // (undocumented)
    host?: string;
    // (undocumented)
    path?: string;
    // (undocumented)
    port?: number;
}

// Warning: (ae-incompatible-release-tags) The symbol "SocketStream" is marked as @public, but its signature references "DuplexStream" which is marked as @beta
// Warning: (ae-incompatible-release-tags) The symbol "SocketStream" is marked as @public, but its signature references "DuplexStream" which is marked as @beta
//
// @public (undocumented)
class SocketStream extends DuplexStream<Buffer> {
    constructor(socket: net_2.Socket);
    // (undocumented)
    get bytesRead(): number;
    // (undocumented)
    get bytesWritten(): number;
    // (undocumented)
    ref(): void;
    // (undocumented)
    protected socket: net_2.Socket;
    // (undocumented)
    unref(): void;
}

// @public (undocumented)
function spawn(file: string, options?: SpawnOptions): Promise<SubProcess>;

// @public (undocumented)
interface SpawnOptions {
    // (undocumented)
    args?: string[];
    // @beta (undocumented)
    createIPC?: boolean;
    // (undocumented)
    cwd?: string;
    // (undocumented)
    detached?: boolean;
    // (undocumented)
    env?: Record<string, string | number | boolean>;
    // (undocumented)
    gid?: number;
    // Warning: (ae-forgotten-export) The symbol "Handle" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    sharedResource?: (Handle | null)[];
    // Warning: (ae-forgotten-export) The symbol "StdioFlag" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "Stdio" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    stdio?: StdioFlag | [Stdio, Stdio, Stdio];
    // (undocumented)
    uid?: number;
    // (undocumented)
    windowsRawArguments?: boolean;
}

declare namespace stream {
    export {
        readAll,
        DuplexStream,
        StreamScan,
        StreamBufferViewScan,
        StreamScanner,
        ScannableStream,
        createScannerFromReadable,
        readableRead,
        readableReadAll,
        pipeTo,
        bridgingDuplex,
        PipeOptions,
        BridgingOptions,
        PipeSourceError,
        PipeTargetError,
        BridgingError,
        readableToReadableStream,
        writableToWritableStream
    }
}
export { stream }

// @public (undocumented)
interface StreamBufferViewScan {
    // (undocumented)
    <P extends ArrayBufferView>(view: P): Promise<P>;
    // (undocumented)
    <P extends ArrayBufferView>(view: P, safe?: boolean): Promise<P | null>;
}

// @public (undocumented)
interface StreamScan<T extends Uint8Array = Uint8Array> {
    // (undocumented)
    (len: number): Promise<T>;
    // (undocumented)
    (len: number, safe?: boolean): Promise<T | null>;
}

// @public (undocumented)
type StreamScanner<T extends Uint8Array = Uint8Array> = {
    read: StreamScan<T>;
    readTo: StreamBufferViewScan;
    nextChunk(): Promise<T | null>;
    cancel(reason?: any): null | T;
};

// @public (undocumented)
class SubProcess {
    // @alpha (undocumented)
    $close: Listenable<{
        code: null | number;
        signal: NodeJS.Signals | null;
        kill?: true | undefined;
    }>;
    // (undocumented)
    $disconnect: Listenable<void>;
    // (undocumented)
    $message: Listenable<unknown>;
    constructor(nodeCps: NodeRaw.ChildProcess);
    // (undocumented)
    get closed(): boolean;
    // Warning: (ae-forgotten-export) The symbol "ClosedState" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    closedState: ClosedState | null;
    // (undocumented)
    get connected(): boolean;
    // (undocumented)
    disconnect(): void;
    // (undocumented)
    kill(signal?: NodeJS.Signals | number): boolean;
    // Warning: (ae-forgotten-export) The symbol "NodeRaw" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    protected nodeCps: NodeRaw.ChildProcess;
    // (undocumented)
    readonly pid: number;
    // (undocumented)
    ref(): void;
    // Warning: (ae-forgotten-export) The symbol "HandleObj" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    send(msg: any, handle?: HandleObj): Promise<unknown>;
    // (undocumented)
    readonly spawnargs: readonly string[];
    // (undocumented)
    readonly spawnFile: string;
    // (undocumented)
    readonly stdio: [WritableStream_2<Buffer> | null, ReadableStream_2<Buffer> | null, ReadableStream_2<Buffer> | null];
    // (undocumented)
    unref(): void;
}

// @public (undocumented)
interface TcpConnectConfig {
    // (undocumented)
    family?: 4 | 6 | 0;
    // (undocumented)
    host?: string;
    // (undocumented)
    localAddress?: string;
    // (undocumented)
    localPort?: number;
    // (undocumented)
    port: number;
}

// @public (undocumented)
type TcpFamily = "IPv4" | "IPv6";

// @public (undocumented)
interface TcpServerOpts extends ServerOpts {
    // (undocumented)
    host?: string;
    // (undocumented)
    ipv6Only?: boolean;
    // (undocumented)
    port?: number;
    // (undocumented)
    type?: "TCP";
}

// @public (undocumented)
function writableToWritableStream<T = Uint8Array>(writable: Writable): WritableStream_2<T>;

// (No @packageDocumentation comment for this package)

```
